<div class="flex justify-center items-center min-h-[70vh] p-4">
  <!-- Loader -->
  <p-progressSpinner *ngIf="loading" strokeWidth="4" styleClass="w-12 h-12" />

  <!-- Card principal -->
  <p-card
    *ngIf="!loading && reservation"
    class="w-full max-w-2xl shadow-xl rounded-2xl border"
  >
    <!-- Header -->
    <ng-template pTemplate="header">
      <div class="flex justify-between items-center p-5">
        <h2 class="text-2xl font-bold text-gray-800 flex items-center gap-2">
          <i class="pi pi-calendar text-blue-600"></i>
          Reserva #{{ reservation.id }}
        </h2>
        <span
          class="px-3 py-1 text-xs font-semibold rounded-full"
          [ngClass]="{
            'bg-green-100 text-green-700': reservation.status === 'CONFIRMED',
            'bg-yellow-100 text-yellow-700': reservation.status === 'PENDING',
            'bg-red-100 text-red-700': reservation.status === 'CANCELLED',
            'bg-blue-100 text-blue-700': reservation.status === 'COMPLETED'
          }"
        >
          {{ reservation.status }}
        </span>
      </div>
    </ng-template>

    <!-- Sección Cliente -->
    <div class="p-5">
      <h3 class="text-lg font-semibold text-gray-700 mb-3 flex items-center gap-2">
        <i class="pi pi-user text-indigo-500"></i>
        Cliente
      </h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
        <div>
          <p class="text-gray-500">Cliente ID</p>
          <p class="font-medium text-gray-800">{{ reservation.customerId }}</p>
        </div>
        <div>
          <p class="text-gray-500">Nombre</p>
          <p class="font-medium text-gray-800">{{ reservation.customerName }}</p>
        </div>
      </div>
    </div>

    <p-divider></p-divider>

    <!-- Sección Contacto -->
    <div class="p-5">
      <h3 class="text-lg font-semibold text-gray-700 mb-3 flex items-center gap-2">
        <i class="pi pi-phone text-green-500"></i>
        Contacto
      </h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
        <div>
          <p class="text-gray-500">Nombre</p>
          <p class="font-medium text-gray-800">{{ reservation.contactName }}</p>
        </div>
        <div>
          <p class="text-gray-500">Teléfono</p>
          <p class="font-medium text-gray-800">{{ reservation.contactPhone }}</p>
        </div>
      </div>
    </div>

    <p-divider></p-divider>

    <!-- Sección Detalles -->
    <div class="p-5">
      <h3 class="text-lg font-semibold text-gray-700 mb-3 flex items-center gap-2">
        <i class="pi pi-clock text-orange-500"></i>
        Detalles
      </h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
        <div>
          <p class="text-gray-500">Fecha</p>
          <p class="font-medium text-gray-800">
            {{ reservation.reservationDate | date: 'fullDate' }}
          </p>
        </div>
        <div>
          <p class="text-gray-500">Hora</p>
          <p class="font-medium text-gray-800">
            {{ reservation.reservationTime }}
          </p>
        </div>
        <div>
          <p class="text-gray-500">Personas</p>
          <p class="font-medium text-gray-800">
            {{ reservation.numberOfPeople }}
          </p>
        </div>
        <div>
          <p class="text-gray-500">Mesa</p>
          <p class="font-medium text-gray-800">
            Nº {{ reservation.tableNumber }} (ID: {{ reservation.tableId }})
          </p>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <ng-template pTemplate="footer">
      <div class="flex justify-end space-x-2 p-4">
        <button
          pButton
          label="Cancelar Reserva"
          icon="pi pi-times"
          class="p-button-danger"
          *ngIf="reservation.status !== 'CANCELLED' && reservation.status !== 'COMPLETED'"
        ></button>
        <button
          pButton
          label="Volver"
          icon="pi pi-arrow-left"
          class="p-button-outlined"
          (click)="goBack()"
        ></button>
      </div>
    </ng-template>
  </p-card>
</div>
