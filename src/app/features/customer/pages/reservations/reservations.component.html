<div
  class="bg-reservations relative min-h-screen flex flex-col items-center justify-center p-6 bg-cover bg-no-repeat"
  style="background-image: url('ingredientes_en_mesa.jpg')"
>
  <div class="absolute inset-0 bg-black/50"></div>

  <div
    class="relative z-10 w-full max-w-6xl bg-gray-950/80 rounded-xl shadow-lg overflow-hidden p-8 space-y-6"
  >
    <div class="text-center text-white">
      <h1 class="text-3xl font-bold mb-2">Reserva tu mesa</h1>
      <p class="text-gray-300 mb-6">
        Selecciona tu mesa, fecha, hora y completa tus datos para reservar.
      </p>
    </div>

    <div
      class="tablee-map w-full max-w-4xl mx-auto grid grid-cols-3 gap-6 mb-8"
    >
      <div
        *ngFor="let table of tables"
        (click)="selectTable(table, $event)"
        [ngClass]="{
          'bg-green-500': table.selected,
          'bg-gray-700': !table.selected
        }"
        class="tablee cursor-pointer text-white flex flex-col items-center justify-center rounded-lg p-4 shadow-lg transform transition-all duration-300"
      >
        <span>Mesa {{ table.id }}</span>
        <span>{{ table.capacity }} personas</span>
      </div>
    </div>

    <form
      [formGroup]="reservationForm"
      (ngSubmit)="onSubmit()"
      class="space-y-5"
    >
      <p-floatlabel class="w-full">
        <input
          id="name"
          type="text"
          pInputText
          formControlName="name"
          class="w-full rounded-lg"
        />
        <label for="name">Nombre</label>
      </p-floatlabel>

      <p-floatlabel class="w-full">
        <input
          id="email"
          type="email"
          pInputText
          formControlName="email"
          class="w-full rounded-lg"
        />
        <label for="email">Correo electr√≥nico</label>
      </p-floatlabel>

      <p-floatlabel class="w-full">
        <p-date-picker
          formControlName="date"
          [showIcon]="true"
          [showOnFocus]="false"
          [iconDisplay]="'input'"
          fluid
          class="w-full rounded-lg"
        ></p-date-picker>
        <label class="w-full">Fecha</label>
      </p-floatlabel>

      <p-floatlabel class="w-full">
        <p-dropdown
          [options]="times"
          formControlName="time"
          optionLabel="label"
          class="w-full py-3 px-4 rounded-lg"
        ></p-dropdown>
        <label for="time">Hora</label>
      </p-floatlabel>

      <p-floatlabel class="w-full">
        <p-dropdown
          [options]="guests"
          formControlName="guests"
          class="w-full py-3 px-4 rounded-lg"
        ></p-dropdown>
        <label for="guests">Personas</label>
      </p-floatlabel>

      <p-floatlabel class="w-full">
        <textarea
          rows="4"
          pTextarea
          formControlName="message"
          class="w-full py-3 px-4 rounded-lg resize-none"
        ></textarea>
        <label for="message">Comentarios adicionales</label>
      </p-floatlabel>

      <div class="text-white mb-4">
        <span *ngIf="selectedTable"
          >Mesa seleccionada: {{ selectedTable.id }} ({{
            selectedTable.capacity
          }}
          personas)</span
        >
      </div>

      <button
        pButton
        type="submit"
        label="Reservar Mesa"
        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition py-3"
      ></button>
    </form>
  </div>
</div>
