<p-dialog 
  header="Selecciona tu Ubicación" 
  [(visible)]="displayDialog" 
  [modal]="true" 
  [style]="{width: '50vw'}"
  class="!font-[tipo6] " 
  [baseZIndex]="10000" 
  [draggable]="true" 
  [resizable]="true"
>
  <!-- Selector de opciones -->
  <div class="card flex justify-center ">
    <p-selectbutton 
      [options]="stateOptions" 
      [(ngModel)]="value" 
      optionLabel="label" 
      optionValue="value"
      [allowEmpty]="false"
      (onOptionClick)="onSelectionChange($event)" 
    />
  </div>

  <!-- Panel de contenido -->
  <div class="content-panel p-5 border-round surface-border">
    
    <!-- Sección: Delivery -->
    <div *ngIf="value === 'delivery'">
      <h3 class="text-xl font-bold ">Detalles de Entrega</h3>

      <!-- Buscador -->
      <div class="mb-4 mt-4" >
        <p-iconfield [iconPosition]="'left'" class="w-full">
          <p-inputicon styleClass="pi pi-search" />
          <input 
            type="text" 
            pInputText 
            placeholder="Buscar Ubicación" 
            class="w-full"
          />
        </p-iconfield>
      </div>
      <!-- Direccion exacta -->
      <div class="mb-4">
        <p-floatlabel variant="on">
          <input pInputText id="Direccion"  autocomplete="off" class="w-full" />
          <label for="in_label">Dirección</label>
      </p-floatlabel>
      </div>

      <!-- Mapa -->
      <div class="field mb-5">
        <div class="border surface-border border-1 w-full h-72 overflow-hidden border-round shadow-sm">
          <iframe 
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3870.0708211880283!2d-75.7275384!3d-14.0729952!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9110e290c34bb1f9%3A0x1e412d437f2dbfac!2sRestaurante%20San%20Isidro!5e0!3m2!1ses!2spe!4v1759274863103!5m2!1ses!2spe" 
            width="100%" 
            height="100%"
            allowfullscreen="" 
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
        </div>
      </div>

      <div class="flex justify-center ">
        <p-button label="Save" icon="pi pi-check" iconPos="right"
        
        />
      </div>
      <!-- Dirección -->
     
    </div>

    <!-- Sección: Retiro -->
    <div *ngIf="value === 'retiro'" class="pickup-section">
      <h3 class="text-xl font-semibold mb-4 text-orange-500">Detalles de Retiro</h3>
      <div class="p-field">
        <label for="localLocation" class="block font-medium mb-2 text-gray-700">
          Ubicación de nuestro local:
        </label>
        <input 
          id="localLocation" 
          type="text" 
          pInputText 
          [value]="ubicacionLocal" 
          [disabled]="true"
          class="w-full bg-gray-100 cursor-not-allowed"
        />
        <small class="p-error block mt-2">
          Su pedido estará listo para ser retirado en esta dirección.
        </small>
      </div>
    </div>
  </div>
</p-dialog>
